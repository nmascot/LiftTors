\documentclass[12pt]{article}

\usepackage[table]{xcolor}
\usepackage{amsmath, amsthm}
\usepackage{amsfonts,amssymb}
\usepackage{hyperref}
\usepackage{authblk}
\usepackage[all]{xy}
\usepackage{enumerate}
\usepackage{array}
\usepackage{makecell}
\usepackage{lscape}

\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\F}{\mathbb{F}}
\renewcommand{\P}{\mathbb{P}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}

\newcommand{\M}{\mathcal{M}}
\renewcommand{\S}{\mathcal{S}}
\newcommand{\E}{\mathcal{E}}

\renewcommand{\l}{\mathfrak{l}}

\newcommand{\Gal}{\operatorname{Gal}}
\newcommand{\GQ}{\Gal(\overline \Q / \Q)}
\newcommand{\GL}{\operatorname{GL}}
\newcommand{\SL}{\operatorname{SL}}
\newcommand{\PGL}{\operatorname{PGL}}
\newcommand{\PSL}{\operatorname{PSL}}
\newcommand{\GLFl}{\GL_2(\F_\ell)}
\newcommand{\PGLFl}{\PGL_2(\F_\ell)}
\newcommand{\PSLFl}{\PSL_2(\F_\ell)}
\newcommand{\Ker}{\operatorname{Ker}}
\renewcommand{\Im}{\operatorname{Im}}
\newcommand{\rev}{\operatorname{rev}}
\newcommand{\disc}{\operatorname{disc}}
\newcommand{\Res}{\operatorname{Res}}
\newcommand{\Aut}{\operatorname{Aut}}
\newcommand{\Hom}{\operatorname{Hom}}
\newcommand{\Ext}{\operatorname{Ext}}
\newcommand{\ab}{\operatorname{ab}}
\newcommand{\Tra}{\operatorname{Tra}}
\newcommand{\Inf}{\operatorname{Inf}}

\newcommand{\TableMinPolyVar}{x}


\newcommand{\smat}[4]{\left[ \begin{smallmatrix} #1 & #2 \\ #3 & #4 \end{smallmatrix} \right]}
\newcommand{\mat}[4]{\left[ \begin{matrix} #1 & #2 \\ #3 & #4 \end{matrix} \right]}

\newtheorem{thm}{Theorem}
\newtheorem{lem}[thm]{Lemma}
\theoremstyle{definition}
\newtheorem{rk}[thm]{Remark}
%\newtheorem{ex}{Example}[thm] % TODO remove ?

\topmargin -2.5cm
\textheight 25cm
\textwidth 15cm

\title{Notes: $p$-adic modular Jacobians via moduli-friendly Eisenstein series}
\author{Nicolas Mascot}

\begin{document}

Fix $N \in \N$. Want to use Kamal's algos in rep B0. Main idea: fix $E/Q$, and a naive $\Gamma(N)$-struct (in the sens of Katz76) $\alpha: (\Z/N\Z)^2 \simeq E[N]$. Let $\zeta_N = e_N(\alpha(1,0),\alpha(0,1))$, a prim root. The other structs on $E$ are the $\alpha \circ \gamma$, $\gamma \in \Gamma(N)$ (points $P_\gamma$ in fibre of $X(N) \longrightarrow X(1) \ni [E]$ acting on the \emph{right} on row-vectors $v \in (\Z/N/Z)^2$.

By Kamal, the $f_v : (E,\beta) \mapsto \lambda_{\beta(v)}$ span $\E_1(\Gamma(N))$. If for $P,Q \in E[N]$ distinct and nonzero, we let $\lambda_{P,Q} = $ slope of line joining $P$ and $Q$, then we have $\lambda_{P,Q} = \lambda_P + \lambda_{Q} + \lambda_{R}$ where $P+Q+R=0$. We can thus recover $\lambda_P = \frac1N \sum_{x \bmod N} \lambda_{P,Q+xP}$, so we can evaluate the $f_v$ at the $P_\gamma$.

Up to a mult constant, the value of $f_v$ at the cusp $(c,d)$ of $X(N)$ is $s(c,d) = 1/2 - \{c/N\}$ if $c \not \equiv 0$, and $\frac12 \frac{\zeta_N^d+1}{\zeta_N^d-1}$ if $c \equiv 0$.

Find list of pairs $(v_i,v'_i)$ such that the $f_{v_i} f_{v'_i}$ form a basis of $\M_2(\Gamma(N))$. Then the $\sum_{x \bmod N} f_{v_i \smat{1}{x}{0}{1}} f_{v_i \smat{1}{x}{0}{1}}$ generate $\M_2(\Gamma_1(N))$.

\end{document}
